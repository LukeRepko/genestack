# Operator goes in the clickhouse namespace and watches that namespace only.
createCRDs: true
watchNamespaces:
  - clickhouse

affinity:
  # Schedule the operator only on worker nodes.
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/worker
            operator: In
            values:
            - worker
  # Spread away from other operator pods (if HA operator is enabled later).
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/name
                operator: In
                values: ["altinity-clickhouse-operator"]
          topologyKey: "kubernetes.io/hostname"

# Keep it quiet-ish but observable
env:
  - name: LOG_LEVEL
    value: "info"

metrics:
  enabled: true
